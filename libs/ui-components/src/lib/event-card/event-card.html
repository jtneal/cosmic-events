<mat-card
  class="cosmic-card"
  [class.cosmic-card-link]="!showManagementLinks()"
  (click)="logEventClick()"
  [routerLink]="!showManagementLinks() ? ['/events', event().id, event().title | slugify] : null"
>
  <img [alt]="event().title" mat-card-image [src]="event().image || '/images/event-image-placeholder.jpg'" />
  <mat-card-header>
    <div class="header-float">
      <mat-chip>
        <mat-icon matChipAvatar>{{ eventTypeIcons[event().type] }}</mat-icon>
        {{ event().type }}
      </mat-chip>
      @if (showManagementLinks()) {
        <div class="header-actions">
          <a matMiniFab [routerLink]="['/events', event().id, event().title | slugify]">
            <mat-icon>visibility</mat-icon>
          </a>
          <a matMiniFab [routerLink]="['/edit', event().id]"><mat-icon>edit_square</mat-icon></a>
          <button (click)="deleteEvent(event().id)" matMiniFab><mat-icon>delete</mat-icon></button>
        </div>
      }
    </div>
    <mat-card-title>{{ event().title }}</mat-card-title>
    <mat-card-subtitle>{{ event().subtitle }}</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <ul class="icon-list">
      <li>
        <mat-icon>event_note</mat-icon>
        <span>
          {{ event().startDate | date }}
          @if (event().startDate !== event().endDate) {
            - {{ event().endDate | date }}
          }
        </span>
      </li>
      <li>
        <mat-icon>location_on</mat-icon>
        <span>{{ event().location }}</span>
      </li>
      <li>
        <mat-icon>access_time</mat-icon>
        <span>{{ duration }}</span>
      </li>
    </ul>
    <p class="price">{{ event().price | currency }}</p>
  </mat-card-content>
</mat-card>
